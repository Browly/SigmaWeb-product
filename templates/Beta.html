<!DOCTYPE html>
<html>
<head> 
<!-- SigmaWeb By Sanketh Katta --> 
	<meta charset="utf-8" /> 
	<title>BROWLY NEEDS A LOT OF HELP</title> 

	<!-- Stylesheets --> 
	<link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css"/> 
	<link rel="stylesheet" type="text/css" href="../static/css/sigmaweb.css"/> 
	<link rel="stylesheet" type="text/css" href="../static/css/nv.d3.css"/> 

	<!-- JavaScripts --> 
	<script type="text/javascript" src="../static/js/d3.v2.min.js"></script> 
	<script type="text/javascript" src="../static/js/nv.d3.min.js"></script> 
    <script type="text/javascript" src="../static/js/lineWithFocusChart.js"></script>
    <script type="text/javascript" src="../static/js/jquery.min.js"></script>
    <script type="text/javascript" src="../static/js/bootstrap.min.js"></script>
</head> 
<body>
<div class="container">
<div class="row">
	<div class="span12">
	<svg id="test1" style="height:500px"></svg>
	</div>
	</div>
	<div class="btn-group">
	  <button class="btn" onclick="decreasem()">M-</button>
	  <button class="btn" onclick="incrementm()">M+</button>
	  <button class="btn" onclick="decreaseb()">B-</button>
	  <button class="btn" onclick="incrementb()">B+</button>
	</div>
</div>
</div>
</body>
<script>
var m = 1
var b = 0

var callback = function() {
	var chart = nv.models.lineWithFocusChart();
	chart.xAxis
          .tickFormat(d3.format(',f'))
          .axisLabel('x');
      chart.x2Axis
          .tickFormat(d3.format(',f'))


      chart.yAxis
          .tickFormat(d3.format(',.2f'))
          .axisLabel('y');
      chart.y2Axis
          .tickFormat(d3.format(',.2f'))

	d3.select('#test1')
		.datum([line(m, b),])
		.transition().duration(500)
		.call(chart);
	nv.utils.windowResize(chart.update);
	return chart
	}
nv.addGraph(callback);

	
function line (m, b) {
	graphData = {}
	graphData['key'] = "Wee"
	graphData['values'] = []
	for (var x = 0; x <=100; x++){
		graphData['values'].push({"x": x, "y" : ((m * x) + b)});
	}
	return graphData;
}

function incrementm() {
	m += 1
	$("#test1").empty();
	nv.addGraph(callback);
}

function decreasem() {
	m -= 1
	$("#test1").empty();
	nv.addGraph(callback);
}
function incrementb() {
	b += 1
	$("#test1").empty();
	nv.addGraph(callback);
}

function decreaseb() {
	b -= 1
	$("#test1").empty();
	nv.addGraph(callback);
}
</script>
</html>